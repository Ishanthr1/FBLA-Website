<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Tickets</title>
    <link rel="stylesheet" href="buy-tickets.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="buy-tickets.js"></script>
</head>

<body>
<header>
    <div class="header-container">
        <h1><a href="index.html" class="title-link">Hillcrest High Gym</a></h1>
        <nav>
            <ul>
                <li><a href="calendar.html">Events Calendar</a></li>
                <li><a href="events.html">Explore Events</a></li>
                <li><a href="buy-tickets.html">Box Office</a></li>
                <li><a href="infopage.html">Information</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>

<div class="container">
    <!-- Seating SVG -->
    <section class="seating">
        <svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
            <!-- Outer Oval Shape (Tier 1 - Sections 1-12) -->
            <g transform="translate(400, 300)">
                <!-- Sections 1 to 12 (Outer Tier) -->
                <g class="tier" data-tier="1">
                    <g transform="rotate(0)" class="section" data-section="1" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            1
                        </text>
                    </g>
                    <g transform="rotate(30)" class="section" data-section="2" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            2
                        </text>
                    </g>
                    <g transform="rotate(60)" class="section" data-section="3" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            3
                        </text>
                    </g>
                    <g transform="rotate(90)" class="section" data-section="4" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            4
                        </text>
                    </g>
                    <g transform="rotate(120)" class="section" data-section="5" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            5
                        </text>
                    </g>
                    <g transform="rotate(150)" class="section" data-section="6" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            6
                        </text>
                    </g>
                    <g transform="rotate(180)" class="section" data-section="7" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            7
                        </text>
                    </g>
                    <g transform="rotate(210)" class="section" data-section="8" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            8
                        </text>
                    </g>
                    <g transform="rotate(240)" class="section" data-section="9" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            9
                        </text>
                    </g>
                    <g transform="rotate(270)" class="section" data-section="10" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            10
                        </text>
                    </g>
                    <g transform="rotate(300)" class="section" data-section="11" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            11
                        </text>
                    </g>
                    <g transform="rotate(330)" class="section" data-section="12" data-tier="3" data-price="150">
                        <rect x="-60" y="-140" width="50" height="50" fill="#6495ed" stroke="#000" stroke-width="2" />
                        <text x="-35" y="-115" text-anchor="middle" alignment-baseline="middle" fill="#fff" font-size="16" font-family="Arial">
                            12
                        </text>
                    </g>


                </g>

                <!-- Sections 13 to 22 (Middle Tier) -->
                <g class="tier" data-tier="2">
                    <g transform="rotate(0)" class="section" data-section="13" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">13</text>
                    </g>
                    <g transform="rotate(36)" class="section" data-section="14" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">14</text>
                    </g>
                    <g transform="rotate(72)" class="section" data-section="15" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">15</text>
                    </g>
                    <g transform="rotate(108)" class="section" data-section="16" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">16</text>
                    </g>
                    <g transform="rotate(144)" class="section" data-section="17" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">17</text>
                    </g>
                    <g transform="rotate(180)" class="section" data-section="18" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">18</text>
                    </g>
                    <g transform="rotate(216)" class="section" data-section="19" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">19</text>
                    </g>
                    <g transform="rotate(252)" class="section" data-section="20" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">20</text>
                    </g>
                    <g transform="rotate(288)" class="section" data-section="21" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">21</text>
                    </g>
                    <g transform="rotate(324)" class="section" data-section="22" data-tier="2" data-price="100">
                        <rect x="-70" y="-210" width="140" height="50" fill="#4169e1" stroke="#000" stroke-width="2" />
                        <text x="0" y="-185" fill="#fff" text-anchor="middle">22    </text>
                    </g>

                </g>

                <!-- Sections 23 to 30 (Innermost Tier - VIP Area) -->
                <g class="tier" data-tier="3">
                    <g transform="rotate(0)" class="section" data-section="23" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">23</text>
                    </g>
                    <g transform="rotate(45)" class="section" data-section="24" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">24</text>
                    </g>
                    <g transform="rotate(90)" class="section" data-section="25" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">25</text>
                    </g>
                    <g transform="rotate(135)" class="section" data-section="26" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">26</text>
                    </g>
                    <g transform="rotate(180)" class="section" data-section="27" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">27</text>
                    </g>
                    <g transform="rotate(225)" class="section" data-section="28" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">28</text>
                    </g>
                    <g transform="rotate(270)" class="section" data-section="29" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">29</text>
                    </g>
                    <g transform="rotate(315)" class="section" data-section="30" data-tier="3" data-price="150">
                        <rect x="-80" y="-270" width="160" height="50" fill="#0000cd" stroke="#000" stroke-width="2" />
                        <text x="0" y="-245" fill="#fff" text-anchor="middle">30</text>
                    </g>

                </g>

                <!-- Central Rectangle (VIP or Premium Area) -->
                <rect x="-50" y="-30" width="100" height="50" fill="#b22222" stroke="#000" stroke-width="2" />
                <text x="0" y="10" fill="#fff" text-anchor="middle">Center</text>

            </g>
        </svg>
    </section>

    <!-- Sidebar for Section Details -->
    <div class="sidebar" id="sidebar">
        <h3>Section Details</h3>
        <div id="sections-list">
            <!-- Sidebar content dynamically populated via JavaScript -->
        </div>
    </div>

    <!-- Modal for purchase details -->
    <div id="purchase-modal" class="modal">
        <div class="modal-content">
            <span id="close-modal" class="close-btn">&times;</span>
            <h2>Purchase Summary</h2>
            <div id="cart-items"></div>
            <div id="total-price">Total: $0.00</div>
            <form id="payment-form">
                <label for="card-number">Card Number:</label>
                <input type="text" id="card-number" placeholder="Card Number" required>

                <div class="card-details">
                    <div class="card-item">
                        <label for="expiration-date">Expiration Date:</label>
                        <input type="text" id="expiration-date" placeholder="MM/YY" required>
                    </div>
                    <div class="card-item">
                        <label for="cvv">CVV:</label>
                        <input type="text" id="cvv" placeholder="CVV" required>
                    </div>
                </div>

                <label for="cardholder-name">Cardholder Name:</label>
                <input type="text" id="cardholder-name" placeholder="Cardholder Name" required>

                <button type="submit" class="submit-btn">Complete Purchase</button>
            </form>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <p>&copy; 2024 School Arena. All rights reserved.</p>
        </div>
    </footer>


    <script>
        const sectionsList = document.getElementById('sections-list');
        const modal = document.getElementById('purchase-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const cartItems = document.getElementById('cart-items');
        const totalPriceElem = document.getElementById('total-price');
        const paymentForm = document.getElementById('payment-form');

        let selectedSection = null;

        const events = [
            "High School Basketball Championship",
            "Winter Concert",
            "Trade Expo 2025",
            "Spring Arts Festival",
        ];
        // Populate Sidebar Dynamically with Collapsible Sections
        function populateSidebar() {
            for (let i = 1; i <= 30; i++) {
                const tier = i <= 12 ? 1 : i <= 22 ? 2 : 3;
                const price = tier === 1 ? 150 : tier === 2 ? 100 : 75;

                const sectionInfo = document.createElement('div');
                sectionInfo.classList.add('section-info');

                sectionInfo.innerHTML = `
            <div class="section-header" data-section="${i}">
                Section ${i} (Tier ${tier})
            </div>
            <div class="section-content">
                <p><strong>Price:</strong> $${price}</p>
                <div class="event-selector">
                    <label for="event-select-${i}">Choose Event:</label>
                    <select id="event-select-${i}">
                        ${events.map(event => `<option value="${event}">${event}</option>`).join('')}
                    </select>
                </div>
                <div class="row-selector">
                    <label for="row-select-${i}">Choose Row:</label>
                    <select id="row-select-${i}">
                        ${Array.from({ length: 7 }, (_, index) => `<option value="${index + 1}">Row ${index + 1}</option>`).join('')}
                    </select>
                </div>
                <button class="purchase-btn">Purchase</button>
            </div>
        `;

        sectionsList.appendChild(sectionInfo);
        }
        }

        // Toggle Collapsible Content for Sidebar Sections
        document.addEventListener('click', (e) => {
        if (e.target.classList.contains('section-header')) {
        const content = e.target.nextElementSibling;
        if (content.style.display === 'block') {
        content.style.display = 'none';
        } else {
        content.style.display = 'block';
        }
        }
        });

        // Open the modal and populate it with details
        function openModal(section, row, price) {
        const taxRate = 0.1; // 10% tax rate
        const taxAmount = price * taxRate;
        const totalPrice = price + taxAmount;

        // Update modal content
        cartItems.innerHTML = `
                <p>Section: ${section}</p>
                <p>Row: ${row}</p>
                <p>Price: $${price.toFixed(2)}</p>
                <p>Tax: $${taxAmount.toFixed(2)}</p>
            `;
        totalPriceElem.textContent = `Total: $${totalPrice.toFixed(2)}`;

        modal.style.display = 'flex'; // Show the modal
        }

        // Event listener for each "Purchase" button
        sectionsList.addEventListener('click', (e) => {
        if (e.target.classList.contains('purchase-btn')) {
        const sectionElement = e.target.closest('.section-info');
        const section = sectionElement.querySelector('.section-header').textContent.trim();
        const rowSelect = sectionElement.querySelector('select');
        const row = rowSelect.value;
        const price = parseFloat(sectionElement.querySelector('p').textContent.replace('Price: $', ''));

        selectedSection = sectionElement;
        openModal(section, row, price);
        }
        });

        // Close modal when the "X" is clicked
        closeModalBtn.addEventListener('click', () => {
        modal.style.display = 'none';
        });

        // Close modal if clicked outside the modal content
        window.addEventListener('click', (e) => {
        if (e.target === modal) {
        modal.style.display = 'none';
        }
        });

        // Handle payment form submission
        paymentForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const cardNumber = document.getElementById('card-number').value;
        const expirationDate = document.getElementById('expiration-date').value;
        const cvv = document.getElementById('cvv').value;
        const cardholderName = document.getElementById('cardholder-name').value;

        if (!cardNumber || !expirationDate || !cvv || !cardholderName) {
        alert("Please fill in all fields.");
        return;
        }

        alert(`Purchase complete for ${selectedSection.querySelector('.section-header').textContent}`);
        modal.style.display = 'none'; // Close the modal after purchase
        });

        // Initialize Sidebar Content
        populateSidebar();
    </script>

</body>
</html>
